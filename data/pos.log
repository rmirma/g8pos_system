/*C11*/SET SCHEMA PUBLIC
drop table if exists HISTORY_ITEM CASCADE 
drop table if exists SOLD_ITEM CASCADE 
drop table if exists STOCK_ITEM CASCADE 
create table HISTORY_ITEM (id bigint generated by default as identity (start with 1), date date, time time, total double, primary key (id))
create table SOLD_ITEM (id bigint generated by default as identity (start with 1), name varchar(255), price double, quantity integer, sold_item_id bigint, primary key (id))
create table STOCK_ITEM (id bigint generated by default as identity (start with 1), description varchar(255), name varchar(255), price double, quantity integer, primary key (id))
alter table SOLD_ITEM add constraint FKhexn7bb0tla5sugl6i1bau6ur foreign key (sold_item_id) references STOCK_ITEM
INSERT INTO STOCK_ITEM VALUES(1,'2','2',2.0E0,2)
COMMIT
INSERT INTO SOLD_ITEM VALUES(1,'2',2.0E0,1,1)
COMMIT
INSERT INTO HISTORY_ITEM VALUES(1,'2023-11-19','15:25:52',2.0E0)
DELETE FROM STOCK_ITEM WHERE ID=1
INSERT INTO STOCK_ITEM VALUES(1,'2','2',2.0E0,1)
COMMIT
DISCONNECT
